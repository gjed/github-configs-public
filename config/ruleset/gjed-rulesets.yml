
# Main branch protection for OSS with maintainer bypass
# Allows repository maintainers and admins to bypass branch protection
# Suitable for open source projects where maintainers need flexibility
gjed-oss-main:
  target: branch
  enforcement: active
  bypass_actors:
    - actor_type: RepositoryRole
      actor_id: 2  # Maintain role
      bypass_mode: always
    - actor_type: RepositoryRole
      actor_id: 5  # Admin role
      bypass_mode: always
  conditions:
    ref_name:
      include:
        - "~DEFAULT_BRANCH"
      exclude: []
  rules:
    - type: deletion
    - type: non_fast_forward
    - type: required_linear_history
    - type: required_signatures
    - type: pull_request
      parameters:
        required_approving_review_count: 1
        dismiss_stale_reviews_on_push: true
        require_code_owner_review: true
        require_last_push_approval: false
